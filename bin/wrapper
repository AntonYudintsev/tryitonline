#!/usr/bin/env bash

runner_exec=/srv/bin/runner
timeout 60s $runner_exec
status=$?
head -c 128K .output.tio
head -c 128K .debug.tio
head -c 1024 .error.tio
(( $(stat -c %s .output.tio) > 128 << 10 )) && echo "The output exceeded 128 KiB and was truncated."
(( $(stat -c %s .debug.tio) > 128 << 10 )) && echo "The debugging information exceeded 128 KiB and was truncated."
(( status == 124 )) && echo "The process exceeded the 60 second time limit and was terminated. Output and debugging information may be incomplete."
